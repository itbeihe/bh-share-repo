<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>天气查询</title>
    <script src="./jquery-3.0.0.js"></script>
</head>
<body>
<div>
    城市：
    <input type="text" id="city" value="北京">
    <input type="button" id="btn" value="确定">
</div>
<div>
    <h4>查询信息</h4>
    <div class="info">
        <div>城市：<span id="i_city"></span></div>
        <div>日期：<span id="i_week"></span></div>
        <div>风力：<span id="i_wind"></span></div>
        <div>天气：<span id="i_weather"></span></div>
    </div>
</div>
<script>
    $(function(){
        $('#btn').on('click',function(){
            var city = $("#city").val();
            console.log(city);
            $.ajax({
                url: "data.php",
                dataType:'json',
                data:{
                    city:city
                }
            }).done(function(result) {
                console.log(result);
                var data = result.result;
                if(data.today){
                    var tdata=data.today;
                    $('#i_city').html(tdata.city);
                    $('#i_week').html(tdata.week);
                    $('#i_wind').html(tdata.wind);
                    $('#i_weather').html(tdata.weather)
                }
            });
        })
    })
</script>
</body>
</html>